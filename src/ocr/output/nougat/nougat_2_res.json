{
    "input_path": "/home/bocchi/Downloads/nougat.pdf",
    "page_index": 2,
    "page_count": 17,
    "width": 1191,
    "height": 1684,
    "model_settings": {
        "use_doc_preprocessor": false,
        "use_layout_detection": true,
        "use_chart_recognition": false,
        "use_seal_recognition": false,
        "use_ocr_for_image_block": false,
        "format_block_content": false,
        "merge_layout_blocks": true,
        "markdown_ignore_labels": [
            "number",
            "footnote",
            "header",
            "header_image",
            "footer",
            "footer_image",
            "aside_text"
        ],
        "return_layout_polygon_points": true
    },
    "parsing_res_list": [
        {
            "block_label": "header",
            "block_content": "Nougat",
            "block_bbox": [
                123,
                70,
                190,
                93
            ],
            "block_id": 0,
            "block_order": null,
            "group_id": 0,
            "block_polygon_points": [
                [
                    123.0,
                    70.0
                ],
                [
                    189.0,
                    70.0
                ],
                [
                    189.0,
                    92.0
                ],
                [
                    123.0,
                    92.0
                ]
            ]
        },
        {
            "block_label": "header",
            "block_content": "Blecher et al.",
            "block_bbox": [
                954,
                70,
                1065,
                92
            ],
            "block_id": 1,
            "block_order": null,
            "group_id": 1,
            "block_polygon_points": [
                [
                    954.0,
                    69.99999237060547
                ],
                [
                    1064.0,
                    69.99999237060547
                ],
                [
                    1064.0,
                    90.99999237060547
                ],
                [
                    954.0,
                    90.99999237060547
                ]
            ]
        },
        {
            "block_label": "image",
            "block_content": "",
            "block_bbox": [
                139,
                130,
                1047,
                633
            ],
            "block_id": 2,
            "block_order": null,
            "group_id": 2,
            "block_polygon_points": [
                [
                    139.0,
                    130.0
                ],
                [
                    1047.0,
                    130.0
                ],
                [
                    1047.0,
                    633.0
                ],
                [
                    139.0,
                    633.0
                ]
            ]
        },
        {
            "block_label": "figure_title",
            "block_content": "Figure 2: List of the different image augmentation methods used during training on an example snippet form a sample document.",
            "block_bbox": [
                120,
                644,
                1066,
                689
            ],
            "block_id": 3,
            "block_order": null,
            "group_id": 3,
            "block_polygon_points": [
                [
                    120.0,
                    644.0
                ],
                [
                    1066.0,
                    644.0
                ],
                [
                    1066.0,
                    689.0
                ],
                [
                    120.0,
                    689.0
                ]
            ]
        },
        {
            "block_label": "paragraph_title",
            "block_content": "3.1 Setup",
            "block_bbox": [
                121,
                778,
                224,
                805
            ],
            "block_id": 4,
            "block_order": 1,
            "group_id": 4,
            "block_polygon_points": [
                [
                    121.0,
                    778.0
                ],
                [
                    224.0,
                    778.0
                ],
                [
                    224.0,
                    805.0
                ],
                [
                    121.0,
                    805.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "We render the document images at a resolution of 96 DPI. Due to the restrictive possible input dimensions of the Swin Transformer we choose the input size  $ (H, W) = (896, 672) $. The aspect ratio is in between the US letter and Din A4 format  $ \\frac{22}{17} < \\frac{4}{3} < \\sqrt{2} $. The document images are resized and then padded to achieve the desired input size. This input size allows us to use the Swin base model architecture [30]. We initialize the model with the pre-trained weights. The Transformer decoder has a maximal sequence length of  $ S = 4096 $. This relatively large sizing is due to the fact that the text of academic research papers can be dense and the syntax for tables in particular is token intensive. The BART decoder is a decoder-only transformer with 10 layers. The entire architecture has a total of 350M parameters. We also test experiment with a smaller model (250M parameters) with a slightly smaller sequence length of  $ S = 3584 $ and only 4 decoder layers, where we start from the pre-trained base model.",
            "block_bbox": [
                120,
                843,
                1068,
                1049
            ],
            "block_id": 5,
            "block_order": 2,
            "group_id": 5,
            "block_polygon_points": [
                [
                    120,
                    843
                ],
                [
                    120,
                    1040
                ],
                [
                    1067,
                    1040
                ],
                [
                    1067,
                    843
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "During inference the text is generated using greedy decoding.",
            "block_bbox": [
                121,
                1042,
                622,
                1064
            ],
            "block_id": 6,
            "block_order": 3,
            "group_id": 6,
            "block_polygon_points": [
                [
                    121,
                    1042
                ],
                [
                    121,
                    1063
                ],
                [
                    621,
                    1063
                ],
                [
                    621,
                    1042
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Training We use an AdamW optimizer [34] to train for 3 epochs with an effective batch size of 192. Due to training instabilities, we choose a learning rate of  $  \\text{lr}_{\\text{init}} = 5 \\cdot 10^{-5}  $ which is reduced by a factor of 0.9996 every 15 updates until it reaches  $  \\text{lr}_{\\text{end}} = 7.5 \\cdot 10^{-6}  $.",
            "block_bbox": [
                120,
                1063,
                1067,
                1131
            ],
            "block_id": 7,
            "block_order": 4,
            "group_id": 7,
            "block_polygon_points": [
                [
                    120.0,
                    1063.0
                ],
                [
                    1067.0,
                    1063.0
                ],
                [
                    1067.0,
                    1131.0
                ],
                [
                    120.0,
                    1131.0
                ]
            ]
        },
        {
            "block_label": "paragraph_title",
            "block_content": "3.2 Data Augmentation",
            "block_bbox": [
                122,
                1208,
                342,
                1232
            ],
            "block_id": 8,
            "block_order": 5,
            "group_id": 8,
            "block_polygon_points": [
                [
                    122.0,
                    1208.0
                ],
                [
                    342.0,
                    1208.0
                ],
                [
                    342.0,
                    1232.0
                ],
                [
                    122.0,
                    1232.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "In image recognition tasks, it is often beneficial to use data augmentation to improve generalization. Since we are only using digital-born academic research papers, we need to employ a number of transformations to simulate the imperfections and variability of scanned documents. These transformations include erosion, dilation, gaussian noise, gaussian blur, bitmap conversion, image compression, grid distortion and elastic transform [35]. Each has a fixed probability of being applied to a given image. The transformations are implemented in the Albumentations [36] library. For an overview of the effect of each transformation, see Fig. 2.",
            "block_bbox": [
                121,
                1270,
                1070,
                1403
            ],
            "block_id": 9,
            "block_order": 6,
            "group_id": 9,
            "block_polygon_points": [
                [
                    121.0,
                    1270.0
                ],
                [
                    1070.0,
                    1270.0
                ],
                [
                    1070.0,
                    1403.0
                ],
                [
                    121.0,
                    1403.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "During training time, we also add perturbations to the ground truth text by randomly replacing tokens. We found this to reduce the collapse into a repeating loop significantly. For more details, see Section 5.4.",
            "block_bbox": [
                120,
                1401,
                1067,
                1447
            ],
            "block_id": 10,
            "block_order": 7,
            "group_id": 10,
            "block_polygon_points": [
                [
                    120,
                    1409
                ],
                [
                    120,
                    1446
                ],
                [
                    1066,
                    1446
                ],
                [
                    1066,
                    1401
                ]
            ]
        },
        {
            "block_label": "number",
            "block_content": "3",
            "block_bbox": [
                587,
                1484,
                603,
                1504
            ],
            "block_id": 11,
            "block_order": null,
            "group_id": 11,
            "block_polygon_points": [
                [
                    587.0,
                    1484.0
                ],
                [
                    602.0,
                    1484.0
                ],
                [
                    602.0,
                    1503.0
                ],
                [
                    587.0,
                    1503.0
                ]
            ]
        }
    ],
    "layout_det_res": {
        "input_path": null,
        "page_index": null,
        "boxes": [
            {
                "cls_id": 12,
                "label": "header",
                "score": 0.5917430520057678,
                "coordinate": [
                    123,
                    70,
                    190,
                    93
                ],
                "order": null,
                "polygon_points": [
                    [
                        123.0,
                        70.0
                    ],
                    [
                        189.0,
                        70.0
                    ],
                    [
                        189.0,
                        92.0
                    ],
                    [
                        123.0,
                        92.0
                    ]
                ]
            },
            {
                "cls_id": 12,
                "label": "header",
                "score": 0.8194687366485596,
                "coordinate": [
                    954,
                    70,
                    1065,
                    92
                ],
                "order": null,
                "polygon_points": [
                    [
                        954.0,
                        69.99999237060547
                    ],
                    [
                        1064.0,
                        69.99999237060547
                    ],
                    [
                        1064.0,
                        90.99999237060547
                    ],
                    [
                        954.0,
                        90.99999237060547
                    ]
                ]
            },
            {
                "cls_id": 14,
                "label": "image",
                "score": 0.9246575832366943,
                "coordinate": [
                    139,
                    130,
                    1047,
                    633
                ],
                "order": null,
                "polygon_points": [
                    [
                        139.0,
                        130.0
                    ],
                    [
                        1047.0,
                        130.0
                    ],
                    [
                        1047.0,
                        633.0
                    ],
                    [
                        139.0,
                        633.0
                    ]
                ]
            },
            {
                "cls_id": 7,
                "label": "figure_title",
                "score": 0.8893663287162781,
                "coordinate": [
                    120,
                    644,
                    1066,
                    689
                ],
                "order": null,
                "polygon_points": [
                    [
                        120.0,
                        644.0
                    ],
                    [
                        1066.0,
                        644.0
                    ],
                    [
                        1066.0,
                        689.0
                    ],
                    [
                        120.0,
                        689.0
                    ]
                ]
            },
            {
                "cls_id": 17,
                "label": "paragraph_title",
                "score": 0.8123021125793457,
                "coordinate": [
                    121,
                    778,
                    224,
                    805
                ],
                "order": 1,
                "polygon_points": [
                    [
                        121.0,
                        778.0
                    ],
                    [
                        224.0,
                        778.0
                    ],
                    [
                        224.0,
                        805.0
                    ],
                    [
                        121.0,
                        805.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.3933362364768982,
                "coordinate": [
                    121,
                    842,
                    1071,
                    931
                ],
                "order": 2,
                "polygon_points": [
                    [
                        121.0,
                        842.0
                    ],
                    [
                        1071.0,
                        842.0
                    ],
                    [
                        1071.0,
                        931.0
                    ],
                    [
                        121.0,
                        931.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.5508859157562256,
                "coordinate": [
                    120,
                    843,
                    1068,
                    1049
                ],
                "order": 3,
                "polygon_points": [
                    [
                        120,
                        843
                    ],
                    [
                        120,
                        1040
                    ],
                    [
                        1067,
                        1040
                    ],
                    [
                        1067,
                        843
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.7880798578262329,
                "coordinate": [
                    184,
                    886,
                    299,
                    912
                ],
                "order": 4,
                "polygon_points": [
                    [
                        184,
                        886
                    ],
                    [
                        184,
                        911
                    ],
                    [
                        298,
                        911
                    ],
                    [
                        298,
                        886
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.31202933192253113,
                "coordinate": [
                    120,
                    930,
                    1067,
                    1044
                ],
                "order": 5,
                "polygon_points": [
                    [
                        120.0,
                        930.0
                    ],
                    [
                        1067.0,
                        930.0
                    ],
                    [
                        1067.0,
                        1044.0
                    ],
                    [
                        120.0,
                        1044.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.4808526933193207,
                "coordinate": [
                    121,
                    1042,
                    622,
                    1064
                ],
                "order": 6,
                "polygon_points": [
                    [
                        121,
                        1042
                    ],
                    [
                        121,
                        1063
                    ],
                    [
                        621,
                        1063
                    ],
                    [
                        621,
                        1042
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.8783788084983826,
                "coordinate": [
                    120,
                    1063,
                    1067,
                    1131
                ],
                "order": 7,
                "polygon_points": [
                    [
                        120.0,
                        1063.0
                    ],
                    [
                        1067.0,
                        1063.0
                    ],
                    [
                        1067.0,
                        1131.0
                    ],
                    [
                        120.0,
                        1131.0
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.8254588842391968,
                "coordinate": [
                    450,
                    1084,
                    580,
                    1107
                ],
                "order": 8,
                "polygon_points": [
                    [
                        450,
                        1084
                    ],
                    [
                        450,
                        1106
                    ],
                    [
                        579,
                        1106
                    ],
                    [
                        579,
                        1084
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.8093869686126709,
                "coordinate": [
                    206,
                    1106,
                    353,
                    1129
                ],
                "order": 9,
                "polygon_points": [
                    [
                        206.0,
                        1106.0
                    ],
                    [
                        353.0,
                        1106.0
                    ],
                    [
                        353.0,
                        1129.0
                    ],
                    [
                        206.0,
                        1129.0
                    ]
                ]
            },
            {
                "cls_id": 17,
                "label": "paragraph_title",
                "score": 0.8352277874946594,
                "coordinate": [
                    122,
                    1208,
                    342,
                    1232
                ],
                "order": 10,
                "polygon_points": [
                    [
                        122.0,
                        1208.0
                    ],
                    [
                        342.0,
                        1208.0
                    ],
                    [
                        342.0,
                        1232.0
                    ],
                    [
                        122.0,
                        1232.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.8838547468185425,
                "coordinate": [
                    121,
                    1270,
                    1070,
                    1403
                ],
                "order": 11,
                "polygon_points": [
                    [
                        121.0,
                        1270.0
                    ],
                    [
                        1070.0,
                        1270.0
                    ],
                    [
                        1070.0,
                        1403.0
                    ],
                    [
                        121.0,
                        1403.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.8106718063354492,
                "coordinate": [
                    120,
                    1401,
                    1067,
                    1447
                ],
                "order": 12,
                "polygon_points": [
                    [
                        120,
                        1409
                    ],
                    [
                        120,
                        1446
                    ],
                    [
                        1066,
                        1446
                    ],
                    [
                        1066,
                        1401
                    ]
                ]
            },
            {
                "cls_id": 16,
                "label": "number",
                "score": 0.6957430243492126,
                "coordinate": [
                    587,
                    1484,
                    603,
                    1504
                ],
                "order": 13,
                "polygon_points": [
                    [
                        587.0,
                        1484.0
                    ],
                    [
                        602.0,
                        1484.0
                    ],
                    [
                        602.0,
                        1503.0
                    ],
                    [
                        587.0,
                        1503.0
                    ]
                ]
            }
        ]
    }
}
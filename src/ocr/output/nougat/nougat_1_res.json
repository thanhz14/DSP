{
    "input_path": "/home/bocchi/Downloads/nougat.pdf",
    "page_index": 1,
    "page_count": 17,
    "width": 1191,
    "height": 1684,
    "model_settings": {
        "use_doc_preprocessor": false,
        "use_layout_detection": true,
        "use_chart_recognition": false,
        "use_seal_recognition": false,
        "use_ocr_for_image_block": false,
        "format_block_content": false,
        "merge_layout_blocks": true,
        "markdown_ignore_labels": [
            "number",
            "footnote",
            "header",
            "header_image",
            "footer",
            "footer_image",
            "aside_text"
        ],
        "return_layout_polygon_points": true
    },
    "parsing_res_list": [
        {
            "block_label": "header",
            "block_content": "Nougat",
            "block_bbox": [
                124,
                70,
                189,
                92
            ],
            "block_id": 0,
            "block_order": null,
            "group_id": 0,
            "block_polygon_points": [
                [
                    124.0,
                    70.0
                ],
                [
                    188.0,
                    70.0
                ],
                [
                    188.0,
                    91.0
                ],
                [
                    124.0,
                    91.0
                ]
            ]
        },
        {
            "block_label": "header",
            "block_content": "Blecher et al.",
            "block_bbox": [
                955,
                70,
                1065,
                92
            ],
            "block_id": 1,
            "block_order": null,
            "group_id": 1,
            "block_polygon_points": [
                [
                    955.0,
                    69.99999237060547
                ],
                [
                    1064.0,
                    69.99999237060547
                ],
                [
                    1064.0,
                    90.99999237060547
                ],
                [
                    955.0,
                    90.99999237060547
                ]
            ]
        },
        {
            "block_label": "image",
            "block_content": "",
            "block_bbox": [
                147,
                148,
                1040,
                334
            ],
            "block_id": 2,
            "block_order": null,
            "group_id": 2,
            "block_polygon_points": [
                [
                    147.0,
                    148.0
                ],
                [
                    1040.0,
                    148.0
                ],
                [
                    1040.0,
                    334.0
                ],
                [
                    147.0,
                    334.0
                ]
            ]
        },
        {
            "block_label": "figure_title",
            "block_content": "Figure 1: Our simple end-to-end architecture followin Donut [28]. The Swin Transformer encoder takes a document image and converts it into latent embeddings, which are subsequently converted to a sequence of tokens in a autoregressive manner",
            "block_bbox": [
                121,
                359,
                1069,
                429
            ],
            "block_id": 3,
            "block_order": null,
            "group_id": 3,
            "block_polygon_points": [
                [
                    121.0,
                    359.0
                ],
                [
                    1069.0,
                    359.0
                ],
                [
                    1069.0,
                    429.0
                ],
                [
                    121.0,
                    429.0
                ]
            ]
        },
        {
            "block_label": "paragraph_title",
            "block_content": "2 Related Work",
            "block_bbox": [
                122,
                477,
                344,
                506
            ],
            "block_id": 4,
            "block_order": 1,
            "group_id": 4,
            "block_polygon_points": [
                [
                    122.0,
                    477.0
                ],
                [
                    344.0,
                    477.0
                ],
                [
                    344.0,
                    506.0
                ],
                [
                    122.0,
                    506.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Optical Character Recognition (OCR) is an extensively researched field in computer vision for a variety of applications, such as document digitalization [2, 5], handwriting recognition and scene text recognition [6–8].",
            "block_bbox": [
                123,
                539,
                1068,
                584
            ],
            "block_id": 5,
            "block_order": 2,
            "group_id": 5,
            "block_polygon_points": [
                [
                    123.0,
                    539.0
                ],
                [
                    1068.0,
                    539.0
                ],
                [
                    1068.0,
                    584.0
                ],
                [
                    123.0,
                    584.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "More concretely, recognizing mathematical expressions is a heavily researched subtopic. Grammar based methods [9–11] for handwritten mathematical expressions were improved upon by different encoder-decoder models. The fully convolutional model [12] was succeeded by various RNN decoder models [13–17], both for handwritten and printed formulas. Recently, the decoder [18, 19] as well as the encoder [20] were replaced with the Transformer [21] architecture.",
            "block_bbox": [
                121,
                580,
                1066,
                694
            ],
            "block_id": 6,
            "block_order": 3,
            "group_id": 6,
            "block_polygon_points": [
                [
                    121,
                    693
                ],
                [
                    1065,
                    693
                ],
                [
                    1065,
                    580
                ],
                [
                    127,
                    580
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Visual Document Understanding (VDU) is another related topic of deep learning research and focuses on extracting relevant information of a variety of document types. Previous works depend on pre-trained models that learn to extract information by jointly modeling text and layout information using the Transformer architecture. The LayoutLM model family [22–24] uses masked layout prediction task to capture the spatial relationships between different document elements.",
            "block_bbox": [
                120,
                703,
                1067,
                813
            ],
            "block_id": 7,
            "block_order": 4,
            "group_id": 7,
            "block_polygon_points": [
                [
                    120.0,
                    703.0
                ],
                [
                    1067.0,
                    703.0
                ],
                [
                    1067.0,
                    813.0
                ],
                [
                    120.0,
                    813.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Open source solutions with a related goal as ours include GROBID [4], which parses digital-born scientific documents to XML with a focus on the bibliographic data and pdf2htmlEX [25], that converts digital-born PDFs to HTML while preserving the layout and appearance of the document. However, both solutions can not recover the semantic information of mathematical expressions.",
            "block_bbox": [
                120,
                823,
                1068,
                912
            ],
            "block_id": 8,
            "block_order": 5,
            "group_id": 8,
            "block_polygon_points": [
                [
                    120.0,
                    823.0
                ],
                [
                    1068.0,
                    823.0
                ],
                [
                    1068.0,
                    912.0
                ],
                [
                    120.0,
                    912.0
                ]
            ]
        },
        {
            "block_label": "paragraph_title",
            "block_content": "3 Model",
            "block_bbox": [
                122,
                957,
                252,
                986
            ],
            "block_id": 9,
            "block_order": 6,
            "group_id": 9,
            "block_polygon_points": [
                [
                    122.0,
                    957.0
                ],
                [
                    252.0,
                    957.0
                ],
                [
                    252.0,
                    986.0
                ],
                [
                    122.0,
                    986.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Previous VDU methods either rely on OCR text from a third party tool [22, 23, 26] or focus on document types such as receipts, invoices or form-like documents [27]. Recent studies [28, 29] show that an external OCR engine is not necessarily needed to achieve competitive results in VDU.",
            "block_bbox": [
                121,
                1019,
                1067,
                1087
            ],
            "block_id": 10,
            "block_order": 7,
            "group_id": 10,
            "block_polygon_points": [
                [
                    121.0,
                    1019.0
                ],
                [
                    1067.0,
                    1019.0
                ],
                [
                    1067.0,
                    1087.0
                ],
                [
                    121.0,
                    1087.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "The architecture is a encoder-decoder transformer [21] architecture, that allows for an end-to-end training procedure. We build on the Donut [28] architecture. The model does not require any OCR related inputs or modules. The text is recognized implicitly by the network. See Fig. 1 for an overview of the approach.",
            "block_bbox": [
                121,
                1096,
                1068,
                1164
            ],
            "block_id": 11,
            "block_order": 8,
            "group_id": 11,
            "block_polygon_points": [
                [
                    121.0,
                    1096.0
                ],
                [
                    1068.0,
                    1096.0
                ],
                [
                    1068.0,
                    1164.0
                ],
                [
                    121.0,
                    1164.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Encoder The visual encoder receives a document image  $ x \\in \\mathbb{R}^{3 \\times H_0 \\times W_0} $, crops the margins and resizes the image to fit in a fixed rectangle of size  $ (H, W) $. If the image is smaller than the rectangle, additional padding is added to ensure each image has the same dimensionality. We use a Swin Transformer [30], a hierarchical vision transformer [31] that splits the image into non-overlapping windows of fixed size and applies a series of self-attention layers to aggregate information across these windows. The model output a sequence of the embedded patches  $ z \\in \\mathbb{R}^{d \\times N} $ where  $ d $ is the latent dimension and  $ N $ is the number of patches.",
            "block_bbox": [
                121,
                1172,
                1067,
                1305
            ],
            "block_id": 12,
            "block_order": 9,
            "group_id": 12,
            "block_polygon_points": [
                [
                    121.0,
                    1172.0
                ],
                [
                    1067.0,
                    1172.0
                ],
                [
                    1067.0,
                    1305.0
                ],
                [
                    121.0,
                    1305.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Decoder The encoded image z is decoded into a sequence of tokens using a transformer decoder architecture with cross-attention. The tokens are generated in an auto-regressive manner, using self-attention and cross-attention to attend to different parts of the input sequence and encoder output respectively. Finally, the output is projected to the size of the vocabulary v, yielding the logits  $ \\ell \\in \\mathbb{R}^v $.",
            "block_bbox": [
                121,
                1314,
                1067,
                1402
            ],
            "block_id": 13,
            "block_order": 10,
            "group_id": 13,
            "block_polygon_points": [
                [
                    121.0,
                    1314.0
                ],
                [
                    1067.0,
                    1314.0
                ],
                [
                    1067.0,
                    1402.0
                ],
                [
                    121.0,
                    1402.0
                ]
            ]
        },
        {
            "block_label": "text",
            "block_content": "Following Kim et al. [28], we use the implementation of the mBART [32] decoder. We use the same tokenizer as Taylor et al. [33] because their model is also specialized in the scientific text domain.",
            "block_bbox": [
                121,
                1401,
                1067,
                1447
            ],
            "block_id": 14,
            "block_order": 11,
            "group_id": 14,
            "block_polygon_points": [
                [
                    121.0,
                    1401.0
                ],
                [
                    1067.0,
                    1401.0
                ],
                [
                    1067.0,
                    1447.0
                ],
                [
                    121.0,
                    1447.0
                ]
            ]
        },
        {
            "block_label": "number",
            "block_content": "2",
            "block_bbox": [
                587,
                1484,
                603,
                1503
            ],
            "block_id": 15,
            "block_order": null,
            "group_id": 15,
            "block_polygon_points": [
                [
                    587.0,
                    1484.0
                ],
                [
                    602.0,
                    1484.0
                ],
                [
                    602.0,
                    1502.0
                ],
                [
                    587.0,
                    1502.0
                ]
            ]
        }
    ],
    "layout_det_res": {
        "input_path": null,
        "page_index": null,
        "boxes": [
            {
                "cls_id": 12,
                "label": "header",
                "score": 0.7619053721427917,
                "coordinate": [
                    124,
                    70,
                    189,
                    92
                ],
                "order": null,
                "polygon_points": [
                    [
                        124.0,
                        70.0
                    ],
                    [
                        188.0,
                        70.0
                    ],
                    [
                        188.0,
                        91.0
                    ],
                    [
                        124.0,
                        91.0
                    ]
                ]
            },
            {
                "cls_id": 12,
                "label": "header",
                "score": 0.8333452939987183,
                "coordinate": [
                    955,
                    70,
                    1065,
                    92
                ],
                "order": null,
                "polygon_points": [
                    [
                        955.0,
                        69.99999237060547
                    ],
                    [
                        1064.0,
                        69.99999237060547
                    ],
                    [
                        1064.0,
                        90.99999237060547
                    ],
                    [
                        955.0,
                        90.99999237060547
                    ]
                ]
            },
            {
                "cls_id": 14,
                "label": "image",
                "score": 0.9304232001304626,
                "coordinate": [
                    147,
                    148,
                    1040,
                    334
                ],
                "order": null,
                "polygon_points": [
                    [
                        147.0,
                        148.0
                    ],
                    [
                        1040.0,
                        148.0
                    ],
                    [
                        1040.0,
                        334.0
                    ],
                    [
                        147.0,
                        334.0
                    ]
                ]
            },
            {
                "cls_id": 7,
                "label": "figure_title",
                "score": 0.9256714582443237,
                "coordinate": [
                    121,
                    359,
                    1069,
                    429
                ],
                "order": null,
                "polygon_points": [
                    [
                        121.0,
                        359.0
                    ],
                    [
                        1069.0,
                        359.0
                    ],
                    [
                        1069.0,
                        429.0
                    ],
                    [
                        121.0,
                        429.0
                    ]
                ]
            },
            {
                "cls_id": 17,
                "label": "paragraph_title",
                "score": 0.8627103567123413,
                "coordinate": [
                    122,
                    477,
                    344,
                    506
                ],
                "order": 1,
                "polygon_points": [
                    [
                        122.0,
                        477.0
                    ],
                    [
                        344.0,
                        477.0
                    ],
                    [
                        344.0,
                        506.0
                    ],
                    [
                        122.0,
                        506.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.7762368321418762,
                "coordinate": [
                    123,
                    539,
                    1068,
                    584
                ],
                "order": 2,
                "polygon_points": [
                    [
                        123.0,
                        539.0
                    ],
                    [
                        1068.0,
                        539.0
                    ],
                    [
                        1068.0,
                        584.0
                    ],
                    [
                        123.0,
                        584.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.8653410077095032,
                "coordinate": [
                    121,
                    580,
                    1066,
                    694
                ],
                "order": 3,
                "polygon_points": [
                    [
                        121,
                        693
                    ],
                    [
                        1065,
                        693
                    ],
                    [
                        1065,
                        580
                    ],
                    [
                        127,
                        580
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9457005858421326,
                "coordinate": [
                    120,
                    703,
                    1067,
                    813
                ],
                "order": 4,
                "polygon_points": [
                    [
                        120.0,
                        703.0
                    ],
                    [
                        1067.0,
                        703.0
                    ],
                    [
                        1067.0,
                        813.0
                    ],
                    [
                        120.0,
                        813.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.940697431564331,
                "coordinate": [
                    120,
                    823,
                    1068,
                    912
                ],
                "order": 5,
                "polygon_points": [
                    [
                        120.0,
                        823.0
                    ],
                    [
                        1068.0,
                        823.0
                    ],
                    [
                        1068.0,
                        912.0
                    ],
                    [
                        120.0,
                        912.0
                    ]
                ]
            },
            {
                "cls_id": 17,
                "label": "paragraph_title",
                "score": 0.845574140548706,
                "coordinate": [
                    122,
                    957,
                    252,
                    986
                ],
                "order": 6,
                "polygon_points": [
                    [
                        122.0,
                        957.0
                    ],
                    [
                        252.0,
                        957.0
                    ],
                    [
                        252.0,
                        986.0
                    ],
                    [
                        122.0,
                        986.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9269893169403076,
                "coordinate": [
                    121,
                    1019,
                    1067,
                    1087
                ],
                "order": 7,
                "polygon_points": [
                    [
                        121.0,
                        1019.0
                    ],
                    [
                        1067.0,
                        1019.0
                    ],
                    [
                        1067.0,
                        1087.0
                    ],
                    [
                        121.0,
                        1087.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9281100034713745,
                "coordinate": [
                    121,
                    1096,
                    1068,
                    1164
                ],
                "order": 8,
                "polygon_points": [
                    [
                        121.0,
                        1096.0
                    ],
                    [
                        1068.0,
                        1096.0
                    ],
                    [
                        1068.0,
                        1164.0
                    ],
                    [
                        121.0,
                        1164.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9573173522949219,
                "coordinate": [
                    121,
                    1172,
                    1067,
                    1305
                ],
                "order": 9,
                "polygon_points": [
                    [
                        121.0,
                        1172.0
                    ],
                    [
                        1067.0,
                        1172.0
                    ],
                    [
                        1067.0,
                        1305.0
                    ],
                    [
                        121.0,
                        1305.0
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.8235252499580383,
                "coordinate": [
                    593,
                    1170,
                    722,
                    1193
                ],
                "order": 10,
                "polygon_points": [
                    [
                        593,
                        1170
                    ],
                    [
                        593,
                        1192
                    ],
                    [
                        721,
                        1192
                    ],
                    [
                        721,
                        1170
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.7669088244438171,
                "coordinate": [
                    858,
                    1258,
                    944,
                    1280
                ],
                "order": 11,
                "polygon_points": [
                    [
                        858.0,
                        1258.0
                    ],
                    [
                        943.0,
                        1258.0
                    ],
                    [
                        943.0,
                        1279.0
                    ],
                    [
                        858.0,
                        1279.0
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9380778074264526,
                "coordinate": [
                    121,
                    1314,
                    1067,
                    1402
                ],
                "order": 12,
                "polygon_points": [
                    [
                        121.0,
                        1314.0
                    ],
                    [
                        1067.0,
                        1314.0
                    ],
                    [
                        1067.0,
                        1402.0
                    ],
                    [
                        121.0,
                        1402.0
                    ]
                ]
            },
            {
                "cls_id": 15,
                "label": "inline_formula",
                "score": 0.7919358015060425,
                "coordinate": [
                    386,
                    1379,
                    444,
                    1400
                ],
                "order": 13,
                "polygon_points": [
                    [
                        386,
                        1379
                    ],
                    [
                        386,
                        1399
                    ],
                    [
                        443,
                        1399
                    ],
                    [
                        443,
                        1379
                    ]
                ]
            },
            {
                "cls_id": 22,
                "label": "text",
                "score": 0.9068304896354675,
                "coordinate": [
                    121,
                    1401,
                    1067,
                    1447
                ],
                "order": 14,
                "polygon_points": [
                    [
                        121.0,
                        1401.0
                    ],
                    [
                        1067.0,
                        1401.0
                    ],
                    [
                        1067.0,
                        1447.0
                    ],
                    [
                        121.0,
                        1447.0
                    ]
                ]
            },
            {
                "cls_id": 16,
                "label": "number",
                "score": 0.7004379034042358,
                "coordinate": [
                    587,
                    1484,
                    603,
                    1503
                ],
                "order": 15,
                "polygon_points": [
                    [
                        587.0,
                        1484.0
                    ],
                    [
                        602.0,
                        1484.0
                    ],
                    [
                        602.0,
                        1502.0
                    ],
                    [
                        587.0,
                        1502.0
                    ]
                ]
            }
        ]
    }
}